{"mappings":"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","sources":["node_modules/.pnpm/string-math@1.2.2/node_modules/string-math/string-math.js","src/ts/calculator.ts","src/ts/themeSwitcher.ts"],"sourcesContent":["function stringMath(eq, callback) {\r\n  if (typeof eq !== 'string') return handleCallback(new TypeError('The [String] argument is expected.'), null);\r\n  const mulDiv = /([+-]?\\d*\\.?\\d+(?:e[+-]\\d+)?)\\s*([*/])\\s*([+-]?\\d*\\.?\\d+(?:e[+-]\\d+)?)/;\r\n  const plusMin = /([+-]?\\d*\\.?\\d+(?:e[+-]\\d+)?)\\s*([+-])\\s*([+-]?\\d*\\.?\\d+(?:e[+-]\\d+)?)/;\r\n  const parentheses = /(\\d)?\\s*\\(([^()]*)\\)\\s*/;\r\n  var current;\r\n  while (eq.search(/^\\s*([+-]?\\d*\\.?\\d+(?:e[+-]\\d+)?)\\s*$/) === -1) {\r\n    eq = fParentheses(eq);\r\n    if (eq === current) return handleCallback(new SyntaxError('The equation is invalid.'), null);\r\n    current = eq;\r\n  }\r\n  return handleCallback(null, +eq);\r\n\r\n  function fParentheses(eq) {\r\n    while (eq.search(parentheses) !== -1) {\r\n      eq = eq.replace(parentheses, function (a, b, c) {\r\n        c = fMulDiv(c);\r\n        c = fPlusMin(c);\r\n        return typeof b === 'string' ? b + '*' + c : c;\r\n      });\r\n    }\r\n    eq = fMulDiv(eq);\r\n    eq = fPlusMin(eq);\r\n    return eq;\r\n  }\r\n\r\n  function fMulDiv(eq) {\r\n    while (eq.search(mulDiv) !== -1) {\r\n      eq = eq.replace(mulDiv, function (a) {\r\n        const sides = mulDiv.exec(a);\r\n        const result = sides[2] === '*' ? sides[1] * sides[3] : sides[1] / sides[3];\r\n        return result >= 0 ? '+' + result : result;\r\n      });\r\n    }\r\n    return eq;\r\n  }\r\n\r\n  function fPlusMin(eq) {\r\n    eq = eq.replace(/([+-])([+-])(\\d|\\.)/g, function (a, b, c, d) { return (b === c ? '+' : '-') + d; });\r\n    while (eq.search(plusMin) !== -1) {\r\n      eq = eq.replace(plusMin, function (a) {\r\n        const sides = plusMin.exec(a);\r\n        return sides[2] === '+' ? +sides[1] + +sides[3] : sides[1] - sides[3];\r\n      });\r\n    }\r\n    return eq;\r\n  }\r\n\r\n  function handleCallback(errObject, result) {\r\n    if (typeof callback !== 'function') {\r\n      if (errObject !== null) throw errObject;\r\n    } else {\r\n      callback(errObject, result);\r\n    }\r\n    return result;\r\n\r\n  }\r\n\r\n}\r\n\r\nif (typeof module !== 'undefined' && typeof exports !== 'undefined' && module.exports) {\r\n  module.exports = stringMath;\r\n}","import stringMath from \"string-math\";\r\n\r\nclass Calculator {\r\n   readonly numpad = document.querySelector('.numpad')\r\n   readonly display = document.querySelector('.display input')\r\n   constructor() {\r\n      this.numpad.addEventListener('click', function (e: { target: HTMLDivElement }) {\r\n         if (e.target.dataset.type === 'num' || e.target.dataset.type === 'operator')\r\n            this.showOnDisplay(e.target);\r\n         if (e.target.classList.contains('btn--result'))\r\n            this.displayResult(e.target);\r\n         if (e.target.classList.contains('btn--reset'))\r\n            this.clearDisplay();\r\n         if (e.target.classList.contains('btn--del'))\r\n            this.deleteLast();\r\n      }.bind(this))\r\n   }\r\n   private showOnDisplay(el: HTMLDivElement) {\r\n      this.display.value += el.textContent\r\n   }\r\n   private displayResult() {\r\n      if (this.display.value) {\r\n         const inputVal = this.display.value.replaceAll('x', '*')\r\n         const result = stringMath(inputVal);\r\n\r\n         this.display.value = result\r\n      }\r\n   }\r\n   clearDisplay() {\r\n      this.display.value = ''\r\n   }\r\n   deleteLast() {\r\n      this.display.value = this.display.value.slice(0, -1)\r\n   }\r\n}\r\n\r\nexport const calculator = new Calculator()","class ThemeSwitcher {\r\n   readonly switcher = document.querySelector('.theme-switcher-container');\r\n   readonly switcherThumb = document.querySelector('.theme__switcher-thumb');\r\n   readonly hiddenRange = document.querySelector('#hidden-range')\r\n\r\n   constructor() {\r\n      this.hiddenRange.addEventListener('change', this.changeRange.bind(this))\r\n   }\r\n\r\n   private changeRange() {\r\n      const value = +this.hiddenRange.value\r\n      this.switcherThumb.style.transform =\r\n         `translateX(${value + (0.35 * value)}rem)`;\r\n\r\n      this.changeTheme(value + 1)\r\n   }\r\n   private changeTheme(value: number) {\r\n      document.body.classList.value = `theme${value}`\r\n   }\r\n\r\n}\r\nexport const themeSwitcher = new ThemeSwitcher()"],"names":["$ef086a659b9794c0$exports","eq","callback","handleCallback","TypeError","mulDiv","plusMin","parentheses","current","search","fParentheses","SyntaxError","replace","a","b","c","fPlusMin","fMulDiv","sides","exec","result","d","errObject","numpad","document","querySelector","display","constructor","this","addEventListener","e","target","dataset","type","showOnDisplay","classList","contains","displayResult","clearDisplay","deleteLast","bind","el","value","textContent","inputVal","replaceAll","$parcel$interopDefault","slice","switcher","switcherThumb","hiddenRange","changeRange","style","transform","changeTheme","body"],"version":3,"file":"index.cb4e017f.js.map"}